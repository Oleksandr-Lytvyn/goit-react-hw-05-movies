{"version":3,"file":"static/js/310.355e6296.chunk.js","mappings":"oMAEO,SAASA,EAAT,GAA8B,IAATC,EAAQ,EAARA,KACpBC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaH,EAAKI,IAAMC,MAAO,CAAEC,KAAML,GAA/C,SACGD,EAAKO,SAIb,C,yJCXYC,E,OAAaC,GAAAA,KAAH,qE,SCKR,SAASC,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAuCA,OArCAC,EAAAA,EAAAA,YAAU,YACR,WAA2B,IAAD,EAClBC,EAAC,UAAGH,EAAaI,IAAI,YAApB,QAA4B,GACnCR,EAASO,EACV,CACDE,EACD,KAEDH,EAAAA,EAAAA,YAAU,WAAM,wCACd,yFACgB,KAAVP,EADN,wDAIEG,GAAa,GAJf,mBAQcQ,EAAAA,EAAAA,IAAYX,GAR1B,gBAOcY,EAPd,EAOMC,KAAQD,QAEVb,EAAUa,GATd,kDAWIE,QAAQC,IAAR,MAXJ,yBAaIZ,GAAa,GAbjB,8EADc,uBAAC,WAAD,wBAiBda,EACD,GAAE,CAAChB,KAYF,+BACE,iBAAKiB,UAAU,YAAf,WACE,UAACvB,EAAD,CAAYwB,SAZlB,SAAkBC,GAEhB,GADAA,EAAMC,iBAC4B,KAA9BD,EAAME,OAAOC,OAAOC,MACtB,OAAOC,MAAM,YAEfvB,EAASkB,EAAME,OAAOC,OAAOC,OAC7BjB,EAAgB,CAAEE,EAAGW,EAAME,OAAOC,OAAOC,QACzCJ,EAAME,OAAOI,OACd,EAIK,WACE,kBACEC,KAAK,OACLC,KAAK,YAMP,mBAAQD,KAAK,SAAb,uBAEDxB,IAAa,6CACd,wBACGJ,EAAO8B,KAAI,SAAAC,GACV,OAAO,SAAC5C,EAAA,EAAD,CAA0BC,KAAM2C,GAAhBA,EAAMvC,GAC9B,UAKV,C","sources":["components/MovieItem/MovieItem.jsx","pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\n\nexport function MovieItem({ item }) {\n  const location = useLocation();\n  // console.log(location);\n  return (\n    <li>\n      <Link to={`/movies/${item.id}`} state={{ from: location }}>\n        {item.title}\n      </Link>\n    </li>\n  );\n}\n","import styled from 'styled-components';\nexport const SearchForm = styled.form`\n  margin-top: 30px;\n  margin-bottom: 30px;\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getApiQuery } from 'components/helpers/getApi';\nimport { MovieItem } from 'components/MovieItem/MovieItem';\nimport { SearchForm } from './Movies.styled';\n\nexport default function Movies() {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    function fetchBackQuery() {\n      const q = searchParams.get('q') ?? '';\n      setQuery(q);\n    }\n    fetchBackQuery();\n  });\n\n  useEffect(() => {\n    async function fetchQuery() {\n      if (query === '') {\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const {\n          data: { results },\n        } = await getApiQuery(query);\n        setMovies(results);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchQuery();\n  }, [query]);\n\n  function onSubmit(event) {\n    event.preventDefault();\n    if (event.target.search.value === '') {\n      return alert('no query');\n    }\n    setQuery(event.target.search.value);\n    setSearchParams({ q: event.target.search.value });\n    event.target.reset();\n  }\n  return (\n    <>\n      <div className=\"container\">\n        <SearchForm onSubmit={onSubmit}>\n          <input\n            type=\"text\"\n            name=\"search\"\n            // value={query}\n            // onChange={e => {\n            //   setSearchParams({ q: e.target.value });\n            // }}\n          />\n          <button type=\"submit\">search</button>\n        </SearchForm>\n        {isLoading && <div>.......loading</div>}\n        <ul>\n          {movies.map(movie => {\n            return <MovieItem key={movie.id} item={movie} />;\n          })}\n        </ul>\n      </div>\n    </>\n  );\n}\n"],"names":["MovieItem","item","location","useLocation","to","id","state","from","title","SearchForm","styled","Movies","useState","movies","setMovies","query","setQuery","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","useEffect","q","get","fetchBackQuery","getApiQuery","results","data","console","log","fetchQuery","className","onSubmit","event","preventDefault","target","search","value","alert","reset","type","name","map","movie"],"sourceRoot":""}